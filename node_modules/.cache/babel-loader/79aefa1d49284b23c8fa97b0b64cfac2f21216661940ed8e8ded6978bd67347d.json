{"ast":null,"code":"import _objectSpread from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import Brand from\"../../components/Brand\";import React,{Component,useState}from\"react\";import{useForm}from\"react-hook-form\";import{login}from\"../../services/AuthService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),press=_useState2[0],isPressed=_useState2[1];function onSubmit(data){isPressed(true);login(data).then(function(r){if(r.status===200){if(r.data.success){sessionStorage.setItem(\"client\",JSON.stringify(r.data.client));window.location.href=\"/encheres\";}else{console.log(r.data);isPressed(false);}// window.location.href = \"/encheres\"\n}});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Brand,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-section pt-120 pb-120\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"images\",src:require(\"../../assets/images/bg/section-bg.png\"),className:\"img-fluid section-bg-top\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"images\",src:require(\"../../assets/images/bg/section-bg.png\"),className:\"img-fluid section-bg-bottom\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center g-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-xl-6 col-lg-8 col-md-10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper wow fadeInUp\",\"data-wow-duration\":\"1.5s\",\"data-wow-delay\":\".2s\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-title\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Log In\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Nouveau Membre? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Cr\\xE9er un compte\"})]})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"w-100\",onSubmit:handleSubmit(onSubmit),method:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-inner\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Enter Your Email *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"email\"},register('email')),{},{placeholder:\"Enter Your Email\"}))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-inner\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password *\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"password\"},register('mpd')),{},{id:\"password\",placeholder:\"Password\"})),/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-eye-slash\",id:\"togglePassword\"})]})})]}),/*#__PURE__*/_jsxs(\"button\",{className:!press?\"account-btn\":\"disable-btn\",disabled:press,children:[press?/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border spinner-border-sm me-2\",role:\"status\",style:{\"color\":\"#494949\"}}):\"\",\"Log in\"]})]})]})})})})]})]});}","map":{"version":3,"names":["Brand","React","Component","useState","useForm","login","Login","register","handleSubmit","press","isPressed","onSubmit","data","then","r","status","success","sessionStorage","setItem","JSON","stringify","client","window","location","href","console","log","require"],"sources":["/home/rodolphe/Data/Rojo/sujet/front-office/src/pages/auth/Login.js"],"sourcesContent":["import Brand from \"../../components/Brand\";\nimport React, {Component, useState} from \"react\";\nimport {useForm} from \"react-hook-form\";\nimport {login} from \"../../services/AuthService\";\n\nexport default function Login(){\n    const {register, handleSubmit } = useForm();\n    const [press, isPressed] = useState(false);\n\n    function onSubmit(data){\n        isPressed(true);\n        login(data).then(r => {\n            if (r.status === 200){\n                if (r.data.success){\n                    sessionStorage.setItem(\"client\", JSON.stringify(r.data.client));\n                    window.location.href = \"/encheres\";\n                }else {\n                    console.log(r.data)\n                    isPressed(false)\n                }\n                // window.location.href = \"/encheres\"\n            }\n        })\n    }\n    return (\n        <div>\n            <Brand></Brand>\n            <div className=\"login-section pt-120 pb-120\">\n                <img alt=\"images\" src={require(\"../../assets/images/bg/section-bg.png\")} className=\"img-fluid section-bg-top\" />\n                <img alt=\"images\" src={require(\"../../assets/images/bg/section-bg.png\")} className=\"img-fluid section-bg-bottom\" />\n                <div className=\"container\">\n                    <div className=\"row d-flex justify-content-center g-4\">\n                        <div className=\"col-xl-6 col-lg-8 col-md-10\">\n                            <div className=\"form-wrapper wow fadeInUp\" data-wow-duration=\"1.5s\"\n                                 data-wow-delay=\".2s\">\n                                <div className=\"form-title\">\n                                    <h3>Log In</h3>\n                                    <p>Nouveau Membre? <a href=\"/register\">Cr√©er un compte</a></p>\n                                </div>\n                                <form className=\"w-100\" onSubmit={handleSubmit(onSubmit)} method=\"post\" >\n                                    <div className=\"row\">\n                                        <div className=\"col-12\">\n                                            <div className=\"form-inner\">\n                                                <label>Enter Your Email *</label>\n                                                <input type=\"email\" {...register('email')} placeholder=\"Enter Your Email\" />\n                                            </div>\n                                        </div>\n                                        <div className=\"col-12\">\n                                            <div className=\"form-inner\">\n                                                <label>Password *</label>\n                                                <input type=\"password\" {...register('mpd')} id=\"password\" placeholder=\"Password\" />\n                                                <i className=\"bi bi-eye-slash\" id=\"togglePassword\"></i>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {/*<button className={!press ? \"account-btn\" : \"disable-btn\"} disabled={press}>Log in</button>*/}\n                                    <button className={!press ? \"account-btn\" : \"disable-btn\"} disabled={press}>\n                                        {press ? <div className=\"spinner-border spinner-border-sm me-2\" role=\"status\" style={{\"color\": \"#494949\"}}>\n\n                                        </div> : \"\" }\n                                        Log in\n                                    </button>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}