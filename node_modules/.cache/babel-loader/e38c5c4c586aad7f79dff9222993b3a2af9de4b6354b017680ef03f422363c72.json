{"ast":null,"code":"import _regeneratorRuntime from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/rodolphe/Data/Rojo/sujet/front-office/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import Brand from\"../../components/Brand\";import{getAuctionAEncherir,getAuctionDisponible}from\"../../services/EnchereService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Enchere=/*#__PURE__*/function(_Component){_inherits(Enchere,_Component);var _super=_createSuper(Enchere);function Enchere(props){var _this;_classCallCheck(this,Enchere);_this=_super.call(this,props);_this.state={auctions:[],load:false};return _this;}_createClass(Enchere,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var client,res,_res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:client=JSON.parse(sessionStorage.getItem(\"client\"));console.log(client);if(!(client==null)){_context.next=10;break;}_context.next=5;return getAuctionDisponible();case 5:res=_context.sent;console.log(res);this.setState({auctions:res.data,load:true});_context.next=14;break;case 10:_context.next=12;return getAuctionAEncherir(client.id);case 12:_res=_context.sent;this.setState({auctions:_res.data,load:true});case 14:case\"end\":return _context.stop();}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"detail\",value:function detail(id){window.location.href=\"/encherir/\".concat(id);// window.history.push(\"/detail-enchere\", {auction: auction})\n}},{key:\"render\",value:function render(){var _this2=this;console.log(this.state.load);if(!this.state.load){return/*#__PURE__*/_jsx(\"div\",{className:\"preloader\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loader\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Brand,{}),/*#__PURE__*/_jsx(\"div\",{className:\"row mt-5\",style:{marginLeft:60},children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"live-auction-section pt-120 pb-120\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"image\",src:require(\"../../assets/images/bg/section-bg.png\"),className:\"img-fluid section-bg-top\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"image\",src:require(\"../../assets/images/bg/section-bg.png\"),className:\"img-fluid section-bg-bottom\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row gy-4 mb-60 d-flex\",children:this.state.auctions.map(function(auction){return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-6 col-sm-10 \",children:/*#__PURE__*/_jsx(\"div\",{\"data-wow-duration\":\"1.5s\",\"data-wow-delay\":\"0.2s\",className:\"eg-card auction-card1 wow fadeInDown\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auction-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"a\",{children:auction.produit})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Prix min : \",/*#__PURE__*/_jsx(\"span\",{children:auction.prixMin})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auction-card-bttm\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.detail(auction.id);},className:\"btn btn--primary btn--sm\",children:\"Ench\\xE9rir\"})})]})},auction.id)},auction.id);})})})]})})})]});}}}]);return Enchere;}(Component);export{Enchere as default};","map":{"version":3,"names":["React","Component","Brand","getAuctionAEncherir","getAuctionDisponible","Enchere","props","state","auctions","load","client","JSON","parse","sessionStorage","getItem","console","log","res","setState","data","id","window","location","href","marginLeft","require","map","auction","produit","prixMin","detail"],"sources":["/home/rodolphe/Data/Rojo/sujet/front-office/src/pages/enchere/Enchere.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport Brand from \"../../components/Brand\";\nimport {getAuctionAEncherir, getAuctionDisponible} from \"../../services/EnchereService\";\nexport default class Enchere extends Component{\n    constructor(props) {\n        super(props);\n        this.state = {\n            auctions: [],\n            load: false\n        }\n    }\n\n    async componentDidMount() {\n        const client = JSON.parse(sessionStorage.getItem(\"client\"));\n        console.log(client)\n        if (client == null) {\n            const res = await getAuctionDisponible()\n            console.log(res)\n            this.setState({\n                auctions: res.data,\n                load: true\n            })\n        } else {\n            const res = await getAuctionAEncherir(client.id)\n                this.setState({\n                    auctions: res.data,\n                    load: true\n                })\n        }\n\n    }\n\n\n    detail(id){\n        window.location.href = `/encherir/${id}`;\n        // window.history.push(\"/detail-enchere\", {auction: auction})\n    }\n\n\n\n    render() {\n        console.log(this.state.load)\n        if (!this.state.load){\n            return (\n                <div className=\"preloader\">\n                    <div className=\"loader\">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                    </div>\n                </div>\n            )\n        }else{\n            return(\n                <div>\n                    <Brand></Brand>\n                    <div className=\"row mt-5\" style={{ marginLeft: 60}}>\n                        <div className=\"col-md-12\">\n                            <div className=\"live-auction-section pt-120 pb-120\">\n                                <img alt=\"image\" src={require(\"../../assets/images/bg/section-bg.png\")} className=\"img-fluid section-bg-top\" />\n                                <img alt=\"image\" src={require(\"../../assets/images/bg/section-bg.png\")} className=\"img-fluid section-bg-bottom\" />\n                                <div className=\"container\">\n\n                                    <div className=\"row gy-4 mb-60 d-flex\">\n                                        {this.state.auctions.map(auction =>\n                                            <div className=\"col-lg-4 col-md-6 col-sm-10 \" key={auction.id}>\n                                                <div data-wow-duration=\"1.5s\" data-wow-delay=\"0.2s\" key={auction.id}\n                                                     className=\"eg-card auction-card1 wow fadeInDown\">\n                                                    <div className=\"auction-content\">\n                                                        <h4><a>{auction.produit}</a></h4>\n                                                        <p>Prix min : <span>{auction.prixMin}</span></p>\n                                                        <div className=\"auction-card-bttm\">\n                                                            <button onClick={() => this.detail(auction.id)} className=\"btn btn--primary btn--sm\">Ench√©rir</button>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        )}\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    {/*<Footer></Footer>*/}\n                </div>\n            )\n        }\n\n    }\n}"],"mappings":"swBAAA,MAAOA,MAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAOC,MAAK,KAAM,wBAAwB,CAC1C,OAAQC,mBAAmB,CAAEC,oBAAoB,KAAO,+BAA+B,CAAC,2FACnEC,QAAO,kGACxB,iBAAYC,KAAK,CAAE,yCACf,uBAAMA,KAAK,EACX,MAAKC,KAAK,CAAG,CACTC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAE,KACV,CAAC,cACL,CAAC,iJAED,wJACUC,MAAM,CAAGC,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAC3DC,OAAO,CAACC,GAAG,CAACN,MAAM,CAAC,MACfA,MAAM,EAAI,IAAI,iDACIN,qBAAoB,EAAE,QAAlCa,GAAG,eACTF,OAAO,CAACC,GAAG,CAACC,GAAG,CAAC,CAChB,IAAI,CAACC,QAAQ,CAAC,CACVV,QAAQ,CAAES,GAAG,CAACE,IAAI,CAClBV,IAAI,CAAE,IACV,CAAC,CAAC,uDAEgBN,oBAAmB,CAACO,MAAM,CAACU,EAAE,CAAC,SAA1CH,IAAG,eACL,IAAI,CAACC,QAAQ,CAAC,CACVV,QAAQ,CAAES,IAAG,CAACE,IAAI,CAClBV,IAAI,CAAE,IACV,CAAC,CAAC,4DAGb,mIAGD,gBAAOW,EAAE,CAAC,CACNC,MAAM,CAACC,QAAQ,CAACC,IAAI,qBAAgBH,EAAE,CAAE,CACxC;AACJ,CAAC,sBAID,iBAAS,iBACLL,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,KAAK,CAACE,IAAI,CAAC,CAC5B,GAAI,CAAC,IAAI,CAACF,KAAK,CAACE,IAAI,CAAC,CACjB,mBACI,YAAK,SAAS,CAAC,WAAW,uBACtB,aAAK,SAAS,CAAC,QAAQ,wBACnB,eAAa,cACb,eAAa,cACb,eAAa,cACb,eAAa,GACX,EACJ,CAEd,CAAC,IAAI,CACD,mBACI,oCACI,KAAC,KAAK,IAAS,cACf,YAAK,SAAS,CAAC,UAAU,CAAC,KAAK,CAAE,CAAEe,UAAU,CAAE,EAAE,CAAE,uBAC/C,YAAK,SAAS,CAAC,WAAW,uBACtB,aAAK,SAAS,CAAC,oCAAoC,wBAC/C,YAAK,GAAG,CAAC,OAAO,CAAC,GAAG,CAAEC,OAAO,CAAC,uCAAuC,CAAE,CAAC,SAAS,CAAC,0BAA0B,EAAG,cAC/G,YAAK,GAAG,CAAC,OAAO,CAAC,GAAG,CAAEA,OAAO,CAAC,uCAAuC,CAAE,CAAC,SAAS,CAAC,6BAA6B,EAAG,cAClH,YAAK,SAAS,CAAC,WAAW,uBAEtB,YAAK,SAAS,CAAC,uBAAuB,UACjC,IAAI,CAAClB,KAAK,CAACC,QAAQ,CAACkB,GAAG,CAAC,SAAAC,OAAO,qBAC5B,YAAK,SAAS,CAAC,8BAA8B,uBACzC,YAAK,oBAAkB,MAAM,CAAC,iBAAe,MAAM,CAC9C,SAAS,CAAC,sCAAsC,uBACjD,aAAK,SAAS,CAAC,iBAAiB,wBAC5B,iCAAI,mBAAIA,OAAO,CAACC,OAAO,EAAK,EAAK,cACjC,qBAAG,aAAW,oCAAOD,OAAO,CAACE,OAAO,EAAQ,GAAI,cAChD,YAAK,SAAS,CAAC,mBAAmB,uBAC9B,eAAQ,OAAO,CAAE,yBAAM,OAAI,CAACC,MAAM,CAACH,OAAO,CAACP,EAAE,CAAC,EAAC,CAAC,SAAS,CAAC,0BAA0B,UAAC,aAAQ,EAAS,EACpG,GACJ,EAR+CO,OAAO,CAACP,EAAE,CAS7D,EAVyCO,OAAO,CAACP,EAAE,CAWvD,GACT,EACC,EACJ,GACJ,EACJ,EACJ,GAEJ,CAEd,CAEJ,CAAC,qBAtFgCnB,SAAS,SAAzBI,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}